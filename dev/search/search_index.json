{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"mkdocs-macros-adr-summary","text":"<p>This is a macro plugin to generates summaries from a list of a ADR documents in a directory.</p> <p>Examples and documentation can be found here</p> <p>The package should be stable enough for daily use. I'll release 1.0.0, and switch to semantic version, as soon as support for MADR version 2 has been implemented. Until that breaking changes can be introduced and will be documented in the GitHub release description.</p>"},{"location":"#quick-start","title":"Quick start","text":"<p>Enable the plugin in <code>mkdocs.yml</code></p> <pre><code>plugins:\n  - macros:\n      modules:\n        - mkdocs_macros_adr_summary\n</code></pre> <p>Create a markdown page in your mkdocs website and use the <code>adr_summary</code> macro providing the path containing your ADR files relative to the <code>mkdocs.yml</code> file.</p> <pre><code>{{ adr_summary(adr_path=\"docs/adr\", adr_style=\"nygard\") }}\n</code></pre> <p><code>adr_style</code> can be <code>nygard</code> or <code>MADR3</code></p>"},{"location":"#more-customization","title":"More customization","text":"<p>The page output is generated using a jinja template, but you can provide a custom one. The file path must still be relative to the <code>mkdocs.yml</code> file.</p> <pre><code>{{ adr_summary(adr_path=\"docs/adr\", adr_style=\"MADR3\", template_file=\"other.jinja\") }}\n</code></pre> <p>The default template is:</p> <pre><code>| ID | Date | Decision | Status |\n|----|------|----------|--------|\n{% for d in documents %}| {{ d.document_id }} | {{ d.date.strftime('%d-%m-%Y') if d.date else \"-\"}} | [{{ d.title }}]({{ d.file_path }}) | {{ d.status }}  |\n{% endfor %}\n</code></pre> <p>The <code>documents</code> variable in the jinja template is a Sequence of <code>ADRDocument</code> models:</p> <pre><code>@dataclass\nclass ADRDocument:\n    file_path: str\n    title: Optional[str] = None\n    date: Optional[date] = None\n    status: Optional[str] = None\n    statuses: Sequence[str] = tuple()\n    deciders: Optional[str] = None\n    consulted: Optional[str] = None\n    informed: Optional[str] = None\n</code></pre> <p>There are some differences in what metadata is available when using different formats:</p> Nygard MADR3 MADR2 file_path \u2705\ufe0e \u2705\ufe0e \u2705\ufe0e title \u2705\ufe0e \u2705\ufe0e \u2705\ufe0e date \u2705\ufe0e \u2705\ufe0e \u2705\ufe0e status \u26a0 \u2705\ufe0e \u2705\ufe0e statuses \u2705\ufe0e \u26a0 \u26a0 deciders \u274c \u2705\ufe0e \u2705\ufe0e consulted \u274c \u2705\ufe0e \u274c informed \u274c \u2705\ufe0e \u274c <ul> <li>Nygard format<ul> <li><code>status</code> is the last item <code>statuses</code>. (I don't believe we should use multiple   statuses, however <code>adr-tools</code> allows it)</li> <li><code>deciders</code>, <code>consulted</code> and <code>informed</code> are not supported by the format</li> </ul> </li> <li>MADR2 and MADR3<ul> <li>I wasn't able to find an automated tool supporting superseding documents.   By looking at the template it looks like there's a single status.   <code>statuses</code> will return a list with a single status.</li> </ul> </li> </ul>"},{"location":"#supported-adr-formats","title":"Supported ADR formats","text":"<p>The supported ADR formats are: * <code>nygard</code> format, it is recommended to use adr-tools to manage the directory * <code>MADR</code> version 3</p> <p>Support for MADR version 2 will be added in a future version.</p>"},{"location":"#commands-for-development","title":"Commands for development","text":"<p>All the common commands used during development can be run using make targets:</p> <ul> <li><code>make dev-dependencies</code>: Install dev requirements</li> <li><code>make update-dependencies</code>: Update dev requirements</li> <li><code>make test</code>: Run test suite</li> <li><code>make check</code>: Run tests, code style and lint checks</li> <li><code>make fix</code>: Run code style and lint automatic fixes (where possible)</li> <li><code>make docs</code>: Render the mkdocs website locally</li> </ul>"},{"location":"adr_madr2_example/0001-record-architecture-decisions/","title":"Use Markdown Any Decision Records","text":"<ul> <li>Status: superseded by ADR-0002</li> <li>Deciders: list everyone involved in the decision</li> <li>Date: 2024-01-24</li> </ul>"},{"location":"adr_madr2_example/0001-record-architecture-decisions/#context-and-problem-statement","title":"Context and Problem Statement","text":"<p>We want to record any decisions made in this project independent whether decisions concern the architecture (\"architectural decision record\"), the code, or other fields. Which format and structure should these records follow?</p>"},{"location":"adr_madr2_example/0001-record-architecture-decisions/#considered-options","title":"Considered Options","text":"<ul> <li>MADR 2.1.2 \u2013 The Markdown Any Decision Records</li> <li>Michael Nygard's template \u2013 The first incarnation of the term \"ADR\"</li> <li>Other templates listed at https://schubmat.github.io/DecisionCapture</li> <li>Formless \u2013 No conventions for file format and structure</li> </ul>"},{"location":"adr_madr2_example/0001-record-architecture-decisions/#decision-outcome","title":"Decision Outcome","text":"<p>Chosen option: \"MADR 2.1.2\", because</p> <ul> <li>Implicit assumptions should be made explicit.   Design documentation is important to enable people understanding the decisions later on.   See also A rational design process: How and why to fake it.</li> <li>The MADR format is lean and fits our development style.</li> <li>The MADR structure is comprehensible and facilitates usage &amp; maintenance.</li> <li>The MADR project is vivid.</li> <li>Version 2.1.2 is the latest one available when starting to document ADRs.</li> </ul>"},{"location":"adr_madr2_example/0002-changed-idea/","title":"Changed idea about MADR2","text":"<ul> <li>Status: accepted</li> <li>Deciders: Nick Fury, Tony Stark</li> <li>Date: 2024-01-24</li> </ul>"},{"location":"adr_madr2_example/0002-changed-idea/#context-and-problem-statement","title":"Context and Problem Statement","text":"<p>We prefer using MADR3</p>"},{"location":"adr_madr2_example/summary/","title":"Macro Rendering Error","text":"<p>File: <code>adr_madr2_example/summary.md</code></p> <p>ValueError: Format MADR2 not supported</p> <pre><code>Traceback (most recent call last):\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/mkdocs_macros_adr_summary/factory.py\", line 14, in get_parser\n    parser = parser_registry[adr_style]\n             ~~~~~~~~~~~~~~~^^^^^^^^^^^\nKeyError: 'MADR2'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/mkdocs_macros/plugin.py\", line 527, in render\n    return md_template.render(**page_variables)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/jinja2/environment.py\", line 1301, in render\n    self.environment.handle_exception()\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/jinja2/environment.py\", line 936, in handle_exception\n    raise rewrite_traceback_stack(source=source)\n  File \"&lt;template&gt;\", line 3, in top-level template code\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/mkdocs_macros_adr_summary/plugin.py\", line 22, in adr_summary\n    parser = get_parser(adr_style)\n             ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/mkdocs_macros_adr_summary/factory.py\", line 16, in get_parser\n    raise ValueError(f\"Format {adr_style} not supported\")\nValueError: Format MADR2 not supported\n</code></pre>"},{"location":"adr_madr2_example/template/","title":"[short title of solved problem and solution] source: https://github.com/adr/madr/tree/2.1.2/template","text":"<ul> <li>Status: [proposed | rejected | accepted | deprecated | \u2026 | superseded by ADR-0005] </li> <li>Deciders: [list everyone involved in the decision] </li> <li>Date: [YYYY-MM-DD when the decision was last updated] </li> </ul> <p>Technical Story: [description | ticket/issue URL] </p>"},{"location":"adr_madr2_example/template/#context-and-problem-statement","title":"Context and Problem Statement","text":"<p>[Describe the context and problem statement, e.g., in free form using two to three sentences. You may want to articulate the problem in form of a question.]</p>"},{"location":"adr_madr2_example/template/#decision-drivers","title":"Decision Drivers","text":"<ul> <li>[driver 1, e.g., a force, facing concern, \u2026]</li> <li>[driver 2, e.g., a force, facing concern, \u2026]</li> <li>\u2026 </li> </ul>"},{"location":"adr_madr2_example/template/#considered-options","title":"Considered Options","text":"<ul> <li>[option 1]</li> <li>[option 2]</li> <li>[option 3]</li> <li>\u2026 </li> </ul>"},{"location":"adr_madr2_example/template/#decision-outcome","title":"Decision Outcome","text":"<p>Chosen option: \"[option 1]\", because [justification. e.g., only option, which meets k.o. criterion decision driver | which resolves force force | \u2026 | comes out best (see below)].</p>"},{"location":"adr_madr2_example/template/#positive-consequences","title":"Positive Consequences","text":"<ul> <li>[e.g., improvement of quality attribute satisfaction, follow-up decisions required, \u2026]</li> <li>\u2026</li> </ul>"},{"location":"adr_madr2_example/template/#negative-consequences","title":"Negative Consequences","text":"<ul> <li>[e.g., compromising quality attribute, follow-up decisions required, \u2026]</li> <li>\u2026</li> </ul>"},{"location":"adr_madr2_example/template/#pros-and-cons-of-the-options","title":"Pros and Cons of the Options","text":""},{"location":"adr_madr2_example/template/#option-1","title":"[option 1]","text":"<p>[example | description | pointer to more information | \u2026] </p> <ul> <li>Good, because [argument a]</li> <li>Good, because [argument b]</li> <li>Bad, because [argument c]</li> <li>\u2026 </li> </ul>"},{"location":"adr_madr2_example/template/#option-2","title":"[option 2]","text":"<p>[example | description | pointer to more information | \u2026] </p> <ul> <li>Good, because [argument a]</li> <li>Good, because [argument b]</li> <li>Bad, because [argument c]</li> <li>\u2026 </li> </ul>"},{"location":"adr_madr2_example/template/#option-3","title":"[option 3]","text":"<p>[example | description | pointer to more information | \u2026] </p> <ul> <li>Good, because [argument a]</li> <li>Good, because [argument b]</li> <li>Bad, because [argument c]</li> <li>\u2026 </li> </ul>"},{"location":"adr_madr2_example/template/#links","title":"Links","text":"<ul> <li>[Link type] [Link to ADR] </li> <li>\u2026 </li> </ul>"},{"location":"adr_madr3_example/0001-record-architecture-decisions/","title":"Use Markdown Any Decision Records","text":""},{"location":"adr_madr3_example/0001-record-architecture-decisions/#context-and-problem-statement","title":"Context and Problem Statement","text":"<p>We want to record any decisions made in this project independent whether decisions concern the architecture (\"architectural decision record\"), the code, or other fields. Which format and structure should these records follow?</p>"},{"location":"adr_madr3_example/0001-record-architecture-decisions/#considered-options","title":"Considered Options","text":"<ul> <li>MADR 3.0.0 \u2013 The Markdown Any Decision Records</li> <li>Michael Nygard's template \u2013 The first incarnation of the term \"ADR\"</li> <li>Other templates listed at https://schubmat.github.io/DecisionCapture</li> <li>Formless \u2013 No conventions for file format and structure</li> </ul>"},{"location":"adr_madr3_example/0001-record-architecture-decisions/#decision-outcome","title":"Decision Outcome","text":"<p>Chosen option: \"MADR 3.0.0\", because</p> <ul> <li>Implicit assumptions should be made explicit.   Design documentation is important to enable people understanding the decisions later on.   See also A rational design process: How and why to fake it.</li> <li>MADR allows for structured capturing of any decision.</li> <li>The MADR format is lean and fits our development style.</li> <li>The MADR structure is comprehensible and facilitates usage &amp; maintenance.</li> <li>The MADR project is vivid.</li> </ul>"},{"location":"adr_madr3_example/0002-change-idea/","title":"Changed idea about ADR format","text":""},{"location":"adr_madr3_example/0002-change-idea/#context-and-problem-statement","title":"Context and Problem Statement","text":"<p>For some reason we don't like MADR anymore.</p>"},{"location":"adr_madr3_example/adr-template/","title":"Adr template","text":""},{"location":"adr_madr3_example/adr-template/#source-httpsgithubcomadrmadrblob300templateadr-templatemd","title":"source: https://github.com/adr/madr/blob/3.0.0/template/adr-template.md","text":""},{"location":"adr_madr3_example/adr-template/#these-are-optional-elements-feel-free-to-remove-any-of-them","title":"These are optional elements. Feel free to remove any of them.","text":"<p>status: {proposed | rejected | accepted | deprecated | \u2026 | superseded by ADR-0005} date: {YYYY-MM-DD when the decision was last updated} deciders: {list everyone involved in the decision} consulted: {list everyone whose opinions are sought (typically subject-matter experts); and with whom there is a two-way communication} informed: {list everyone who is kept up-to-date on progress; and with whom there is a one-way communication}</p>"},{"location":"adr_madr3_example/adr-template/#short-title-of-solved-problem-and-solution","title":"{short title of solved problem and solution}","text":""},{"location":"adr_madr3_example/adr-template/#context-and-problem-statement","title":"Context and Problem Statement","text":"<p>{Describe the context and problem statement, e.g., in free form using two to three sentences or in the form of an illustrative story.  You may want to articulate the problem in form of a question and add links to collaboration boards or issue management systems.}</p>"},{"location":"adr_madr3_example/adr-template/#decision-drivers","title":"Decision Drivers","text":"<ul> <li>{decision driver 1, e.g., a force, facing concern, \u2026}</li> <li>{decision driver 2, e.g., a force, facing concern, \u2026}</li> <li>\u2026 </li> </ul>"},{"location":"adr_madr3_example/adr-template/#considered-options","title":"Considered Options","text":"<ul> <li>{title of option 1}</li> <li>{title of option 2}</li> <li>{title of option 3}</li> <li>\u2026 </li> </ul>"},{"location":"adr_madr3_example/adr-template/#decision-outcome","title":"Decision Outcome","text":"<p>Chosen option: \"{title of option 1}\", because {justification. e.g., only option, which meets k.o. criterion decision driver | which resolves force {force} | \u2026 | comes out best (see below)}.</p>"},{"location":"adr_madr3_example/adr-template/#consequences","title":"Consequences","text":"<ul> <li>Good, because {positive consequence, e.g., improvement of one or more desired qualities, \u2026}</li> <li>Bad, because {negative consequence, e.g., compromising one or more desired qualities, \u2026}</li> <li>\u2026 </li> </ul>"},{"location":"adr_madr3_example/adr-template/#validation","title":"Validation","text":"<p>{describe how the implementation of/compliance with the ADR is validated. E.g., by a review or an ArchUnit test}</p>"},{"location":"adr_madr3_example/adr-template/#pros-and-cons-of-the-options","title":"Pros and Cons of the Options","text":""},{"location":"adr_madr3_example/adr-template/#title-of-option-1","title":"{title of option 1}","text":"<p>{example | description | pointer to more information | \u2026}</p> <ul> <li>Good, because {argument a}</li> <li>Good, because {argument b}</li> </ul> <ul> <li>Neutral, because {argument c}</li> <li>Bad, because {argument d}</li> <li>\u2026 </li> </ul>"},{"location":"adr_madr3_example/adr-template/#title-of-other-option","title":"{title of other option}","text":"<p>{example | description | pointer to more information | \u2026}</p> <ul> <li>Good, because {argument a}</li> <li>Good, because {argument b}</li> <li>Neutral, because {argument c}</li> <li>Bad, because {argument d}</li> <li>\u2026</li> </ul>"},{"location":"adr_madr3_example/adr-template/#more-information","title":"More Information","text":"<p>{You might want to provide additional evidence/confidence for the decision outcome here and/or  document the team agreement on the decision and/or  define when this decision when and how the decision should be realized and if/when it should be re-visited and/or  how the decision is validated.  Links to other decisions and resources might here appear as well.}</p>"},{"location":"adr_madr3_example/summary/","title":"ADR Summary","text":""},{"location":"adr_madr3_example/summary/#document-list","title":"Document list","text":"<ul> <li> <p>Changed idea about ADR format</p> <ul> <li><code>25-01-2024</code></li> <li> <p><code>../adr_madr3_example/0002-change-idea.md</code></p> </li> <li> <p>Statuses:</p> <ul> <li>Accepted</li> </ul> </li> </ul> </li> <li> <p>Use Markdown Any Decision Records</p> <ul> <li><code>24-01-2024</code></li> <li> <p><code>../adr_madr3_example/0001-record-architecture-decisions.md</code></p> </li> <li> <p>Statuses:</p> <ul> <li>Superseded by ADR-0002</li> </ul> </li> </ul> </li> </ul>"},{"location":"adr_nygard_example/0001-record-architecture-decisions/","title":"1. Record architecture decisions","text":"<p>Date: 2024-01-20</p>"},{"location":"adr_nygard_example/0001-record-architecture-decisions/#status","title":"Status","text":"<p>Superceded by 2. Supersedes 1</p> <p>Superceded by 3. Supersedes 1-b</p>"},{"location":"adr_nygard_example/0001-record-architecture-decisions/#context","title":"Context","text":"<p>We need to record the architectural decisions made on this project.</p>"},{"location":"adr_nygard_example/0001-record-architecture-decisions/#decision","title":"Decision","text":"<p>We will use Architecture Decision Records, as described by Michael Nygard.</p>"},{"location":"adr_nygard_example/0001-record-architecture-decisions/#consequences","title":"Consequences","text":"<p>See Michael Nygard's article, linked above. For a lightweight ADR toolset, see Nat Pryce's adr-tools.</p>"},{"location":"adr_nygard_example/0002-supercedes-1/","title":"2. Supercedes 1","text":"<p>Date: 2024-01-22</p>"},{"location":"adr_nygard_example/0002-supercedes-1/#status","title":"Status","text":"<p>Accepted</p> <p>Supercedes 1. Record architecture decisions</p>"},{"location":"adr_nygard_example/0002-supercedes-1/#context","title":"Context","text":"<p>The issue motivating this decision, and any context that influences or constrains the decision.</p>"},{"location":"adr_nygard_example/0002-supercedes-1/#decision","title":"Decision","text":"<p>The change that we're proposing or have agreed to implement.</p>"},{"location":"adr_nygard_example/0002-supercedes-1/#consequences","title":"Consequences","text":"<p>What becomes easier or more difficult to do and any risks introduced by the change that will need to be mitigated.</p>"},{"location":"adr_nygard_example/0003-supercedes-1-b/","title":"3. Supercedes 1-b","text":"<p>Date: 2024-01-22</p>"},{"location":"adr_nygard_example/0003-supercedes-1-b/#status","title":"Status","text":"<p>Accepted</p> <p>Supercedes 1. Record architecture decisions</p>"},{"location":"adr_nygard_example/0003-supercedes-1-b/#context","title":"Context","text":"<p>The issue motivating this decision, and any context that influences or constrains the decision.</p>"},{"location":"adr_nygard_example/0003-supercedes-1-b/#decision","title":"Decision","text":"<p>The change that we're proposing or have agreed to implement.</p>"},{"location":"adr_nygard_example/0003-supercedes-1-b/#consequences","title":"Consequences","text":"<p>What becomes easier or more difficult to do and any risks introduced by the change that will need to be mitigated.</p>"},{"location":"adr_nygard_example/summary/","title":"ADR Summary","text":""},{"location":"adr_nygard_example/summary/#document-list","title":"Document list","text":"<ul> <li> <p>3. Supercedes 1-b</p> <ul> <li><code>22-01-2024</code></li> <li> <p><code>../adr_nygard_example/0003-supercedes-1-b.md</code></p> </li> <li> <p>Statuses:</p> <ul> <li> <p>Accepted</p> </li> <li> <p>Supercedes 1. Record architecture decisions</p> </li> </ul> </li> </ul> </li> <li> <p>1. Record architecture decisions</p> <ul> <li><code>20-01-2024</code></li> <li> <p><code>../adr_nygard_example/0001-record-architecture-decisions.md</code></p> </li> <li> <p>Statuses:</p> <ul> <li> <p>Superceded by 2. Supersedes 1</p> </li> <li> <p>Superceded by 3. Supersedes 1-b</p> </li> </ul> </li> </ul> </li> <li> <p>2. Supercedes 1</p> <ul> <li><code>22-01-2024</code></li> <li> <p><code>../adr_nygard_example/0002-supercedes-1.md</code></p> </li> <li> <p>Statuses:</p> <ul> <li> <p>Accepted</p> </li> <li> <p>Supercedes 1. Record architecture decisions</p> </li> </ul> </li> </ul> </li> </ul>"}]}